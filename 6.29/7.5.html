<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<body>
    <script>
    //调用
    addEvent($$('#btn'),'click',function(e){
    	var evt = getEvent(e),
    		target = getTarget(e);
    	preventDefault(e);
    	stopPropagation(e);
    	console.log(target);
    })

    //
    	function getEvent(e){
    		return e || window.event;
    	}
    	function getTarget(e){
    		return e.target || e.srcElement;
    	}
    	function preventDefault(e){
    		if(e.preventDefault)
    		e.preventDefault();
    		else{
    			e.returnValue = 'false';
    		}
    	}
    	function stopPropagation(e){
    		if(e.stopPropagation)
    			e.stopPropagation;
    		else{
    			e.cancelBubble = 'true'
    		}
    	}
    	function $$(el){
    		if(el.length<1){
    			return;
    		}
    		var sub = el.substring(1)
    		if(el[0]==="#"){
    			return document.getElementById(sub);
    		}
    		else if(el[0]==='.'){
    			return document.getElementsByClassName(sub);
    		}
    		else {
    			return document.getElementsByTagName(sub);
    		}
    	}
    	function addEvent(node,type,handler){
    		if(!node){
    			return false;
    		}
    		if(node.addEventListener){
    			node.addEventListener(type,handler,false)
    			return true;
    		}
    		else if(node.attachEvent){
    			node ['e'+type+handler] = handler;
    			node[type+handler] = function(){
    				node['e'+type+handler](window.event)
    			}
    			node.attachEvent("on"+type,node[type+handler])
    			return true;
    		}
    		return false;

    	}
    	function removeEvent(node.type,handler){
    		if(!node){
    			return false;
    		}
    		if(node.removeEventListener){
    			node.removeEventListener(type,handler,false)
    			return true;
    		}
    		else if(node.detachEvent){
    			node.detachEvent("on"+type,node[type+handler]);
    			node[type+handler] = null;
    			return true;
    		}
    		return false;
    	}

    </script>
</body>
</html>